import numpy as np
import matplotlib as plt


master_curve = np.array([3.920443406036651, 2.7639821779105542,
2.254338877722025,  1.9513837218071342, 1.7450166671832754,
1.5928839897758424, 1.4747653105080576, 1.3796281282142924,
1.3008753435392029, 1.234288351142671,  1.1770273049744642,
1.1271011783216718, 1.0830672127478984, 1.0438509579431305,
1.0086336030441687, 0.9767787536056324, 0.9477833091755259,
0.9212435957417907, 0.8968314534272098, 0.8742769964680429])

data = np.array([12.82398603780653, 8.708265346706627,
6.943916634340093,  5.913441041271008,  5.220678298445037,
4.7153411130496306, 4.326441800656878,  4.015585602454473,
3.7599836807770317, 3.5451576271700658, 3.3614170020938596,
3.2020029881204284, 3.0620410438719667, 2.9379167363509975,
2.8268866460269106, 2.72682649883558,   2.6360628206802112,
2.5532572707864203, 2.477325238639876,  2.4073773335594093])

k = np.linspace(-5, 5, 100)
errors = np.array([np.mean((master_curve - data + m)) for m in k])
#plt.pyplot.plot(k, errors)

x = np.linspace(0,800,20)
plt.pyplot.plot(x, data)
plt.pyplot.plot(x, master_curve)



test = np.polyfit(k, errors, 2)
norm_data = master_curve - test[-1]

plt.pyplot.plot(x, norm_data)